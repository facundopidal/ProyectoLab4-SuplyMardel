<app-nav-bar></app-nav-bar>
<div class="account-container">
    <div class="content" *ngIf="client">
        <h2>MIS DATOS</h2>
        <div class="divider" ></div>
        <p>Nombre: {{client.name}}</p>
        <p>Apellido: {{client.lastname}} </p>
        <p>Email: {{client.email}}</p>
        <div class="button">
            <button routerLink="/sales">Historial de compras</button>
        </div>
        <div class="button">
            <button routerLink="/edit">Editar mi perfil</button>
        </div>
        <button (click)="logout()" class="logout">Cerrar Sesion</button>
        <hr>
        <br>
        @for(address of clientAddresses; track address.id) {
            <div class="address">
                <div>
                    <p>Domicilio {{$index + 1}}:</p>
                    <p>Direccion: {{address.street}} {{address.number}} </p>
                    <p>Ciudad: {{address.city}} </p>
                    @if(address.floor){
                        <p>Piso: {{address.floor}}</p>
                    }
                    @if(address.apartment){
                        <p>Departamento: {{address.apartment}}</p>
                    }
                </div>
                <div>
                    <button class="trash-btn" (click)="deleteAddress(address.id!)">🗑️</button>
                </div>
            </div>
            <br>
        }
        <button routerLink="/add-address" class="button" [disabled]="limitAddresses">Agregar domicilio</button>
        <button routerLink="/change-password" class="button">Cambiar contraseña</button>
    </div>
</div>